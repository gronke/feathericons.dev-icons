@use "sass:math"

@use "../globals" as *

////////////////////////////////////////////////////////////////////////////////

// TODO: DEPRECATE
.section
  display: flex
  flex-direction: column
  gap: $sidebar-gap
  //// &:not(:is([data-pos=start], [data-pos=syntax-highlighting], [data-pos=end]))
  padding: $sidebar-gap $sidebar-padding-x

  // Overrides -- don't use (:not(:is(...)))
  &[data-pos=start]
    isolation: isolate // Needed because of box-shadow
    padding-top: $sidebar-padding-y
    &:has(+ [data-scroll=true])
      box-shadow: $hairline-shadow-bottom
  &[data-pos=checkboxes]
    padding-top: 0
  &[data-pos=syntax-highlighting]
    padding: 0
    padding-bottom: $sidebar-gap
  &[data-pos=end]
    padding-bottom: $sidebar-gap

.TEST_section-head
  padding: $sidebar-gap $sidebar-padding-x
  &[data-pos=start]
    padding-top: $sidebar-padding-y

.TEST_section-body
  display: flex
  flex-direction: column
  gap: $sidebar-gap
  //// padding: 0 $sidebar-padding-x
  padding: $sidebar-gap $sidebar-padding-x
  padding-top: 0
  // TODO: Add data-pos overrides here
  // TODO: Rename to data-override?
  overflow-y: auto // TOOD

////////////////////////////////////////////////////////////////////////////////

// These are optical alignment utilities. They align children to be optically
// aligned.
//
//// // TODO: Rename to .section-align-frame?
.align-frame
  display: flex
  flex-direction: column
  justify-content: center // Center y-axis
  padding: 0 math.div($button-height - $tiny-icon-height, 2)
  // TODO: Why omit height here?
  //// height: $button-height

//// // TODO: Rename to .section-align-icon-frame?
.align-icon-frame
  display: flex
  justify-content: center // Center x-axis
  align-items: center     // Center y-axis
  height: $button-height
  width: $button-height

////////////////////////////////////////////////////////////////////////////////

.section-heading
  display: flex
  align-items: center
  height: 24px
  background-color: white

// Scope .align-icon-frame because parenting breaks :first-child and :last-child
.align-icon-frame:first-child .section-heading-icon
  height: $tiny-icon-height
  width:  $tiny-icon-height
  color:  $slate-600

// Scope .align-icon-frame because parenting breaks :first-child and :last-child
//
// TODO: Wrap <button>
.align-icon-frame:last-child .section-heading-icon
  height: $tiny-icon-height
  width:  $tiny-icon-height
  color:  $slate-300
  // TODO
  &:hover
    color: $slate-800

.section-heading-type
  flex: 1
  +typography-caps
  color: $slate-600

.section-heading-number-type
  display: flex
  justify-content: center
  align-items: center
  height: 24px
  width: 56px
  border-radius: 1e3px
  box-shadow: $inset-hairline-shadow
  +typography-caps
  color: $slate-800
  -webkit-user-select: all // Interaction
  user-select: all         // Interaction
