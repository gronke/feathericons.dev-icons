$x:         var(--__x);
$min-width: var(--__min-width);
$max-width: var(--__max-width);

//// :focus-visible { outline: revert; }
//// [tabindex] { outline: solid 2px blue; }

.sidebar {
	position: fixed;
	&[data-pos=start] { inset: 0 auto 0 0; }
	&[data-pos=end]   { inset: 0 0 0 auto; }
	z-index: 10;
	display: flex;          // Forward height
	flex-direction: row;    // Forward height

	// Start
	&[data-pos=start]                       { transform: translateX(calc(-1 * ($max-width - $min-width) + $x)); }
	&[data-pos=start][data-state=maximized] { transform: translateX($x); }
	&[data-pos=start][data-state=minimized] { transform: translateX(calc(-1 * $max-width + $x)); }

	// End
	&[data-pos=end]                       { transform: translateX(calc($max-width - $min-width + $x)); }
	&[data-pos=end][data-state=maximized] { transform: translateX($x); }
	&[data-pos=end][data-state=minimized] { transform: translateX(calc($max-width + $x)); }
}
.sidebar[data-transition] {
	transition: transform 600ms cubic-bezier(0, 1, .25, 1);
}

////////////////////////////////////////////////////////////////////////////////

.sidebar-drag-area {
	position: absolute;
	.sidebar[data-pos=start] & { inset: 0 auto 0 100%; }
	.sidebar[data-pos=end]   & { inset: 0 100% 0 auto; }
	display: flex;
	justify-content: center;
	align-items: center;
	width: 32px;
	&:not(:hover:active) { cursor: grab; }
	&:hover:active       { cursor: grabbing; }
	-webkit-user-select: none;
	user-select: none;
}
//// .sidebar-drag-area { transition: background-color 100ms ease; }
//// .sidebar-drag-area:hover { background-color: hsl(0, 0%, 0%, 0.025); }

.sidebar-drag-area-handle {
	height: 6px * 8;
	width: 6px;
	background-color: hsl(0, 0%, 0%, 0.25);
	border-radius: 1e3px;
	//// .sidebar-drag-area:hover        & { background-color: hsl(0, 0%, 0%, 0.50); }
	//// .sidebar-drag-area:hover:active & { background-color: hsl(0, 0%, 0%, 0.75); }
}

////////////////////////////////////////////////////////////////////////////////

.sidebar-card {
	display: flex;
	.sidebar[data-pos=start] & { justify-content: flex-end;   }
	.sidebar[data-pos=end]   & { justify-content: flex-start; }
	width: $max-width;
	background-color: white;
	box-shadow: 0 0 0 1px gainsboro;
}
.sidebar-card-content {
	display: flex;          // Forward height
	flex-direction: column; // Forward height
	width: $min-width;
}

////////////////////////////////////////////////////////////////////////////////

.sidebar-header {
	position: sticky;
	top: 0;
	background-color: white;
}
.sidebar-scroll-area {
	overflow-y: auto;
}
.sidebar-footer {
	position: sticky;
	bottom: 0;
	z-index: 20;
	margin-top: auto;
	background-color: white;
}

////////////////////////////////////////////////////////////////////////////////

//// .sidebar-overlay {
////   position: fixed;
////   inset: 0;
////   z-index: $sidebar-overlay-z-index;
////   background-color: hsl(0, 0%, 0%, 0.25);
////   backdrop-filter: blur(2px);
//// }
.main {
	position: absolute;
	inset: 0 $min-width 0 $min-width;
}
