@use "sass:math"

@use "../globals" as *

////////////////////////////////////////////////////////////////////////////////

.widget-alignment-frame
  display: flex
  &:not([data-dir])
    align-items: center
  &[data-dir=column]
    flex-direction: column
  margin: 0 math.div($button-height - $tiny-icon-height, 2)
  & + :is(.widget-alignment-frame, .widget-alignment-icon-frame)
    margin-left:  0
  &[data-clip=end]
    margin-right: 0

.widget-alignment-icon-frame
  display: flex
  justify-content: center
  align-items: center
  height: $button-height
  width:  $button-height
  & + :is(.widget-alignment-frame, .widget-alignment-icon-frame)
    margin-left:  0
  &[data-clip=end]
    margin-right: 0

////////////////////////////////////////////////////////////////////////////////

.widget-head
  padding: $sidebar-gap $sidebar-padding-x

  &[data-pos=start]
    padding-top: $sidebar-padding-y
  &[data-pos=search-bar]
    padding-top: $sidebar-padding-y
    padding-bottom: $sidebar-gap + 4px // üßê
  &:has(+ [data-scroll=true]) // TODO: Change to [data-has]
    isolation: isolate // Preserve box-shadow
    box-shadow: $hairline-shadow-bottom

.widget-body
  display: flex
  flex-direction: column
  gap: $sidebar-gap
  padding: $sidebar-gap $sidebar-padding-x
  padding-top: 0

  &[data-pos=start]
    padding-top: $sidebar-padding-y
  &[data-pos=syntax-highlighting]
    padding: 0
  &[data-pos=end]
    padding-bottom: $sidebar-padding-y
  .sidebar-head &
    overflow-y: auto

// Create a aacontainer because of added padding-bottom (overflow-y must be separated)
.widget-syntax-highlighting-container
  padding-bottom: $sidebar-gap

// <div class="widget-head">
//   <div class="widget-name">
//     ...
//   </div>
// </div>
//
// OR
//
// <div class="widget-body">
//   <div class="widget-name">
//     ...
//   </div>
// </div>
//
.widget-name
  display: flex
  align-items: center
  height: 24px

////////////////////////////////////////////////////////////////////////////////

.widget-name-icon
  height: $tiny-icon-height
  width:  $tiny-icon-height
  color:  $text-200-color

.widget-name-type
  // TYPOGRAPHY
  +typography-caps
  white-space: pre
  color: $text-200-color

.widget-range-type
  display: flex
  justify-content: center
  align-items: center
  height: 24px
  width:  56px
  border-radius: 1e3px
  box-shadow: $inset-hairline-shadow
  // TYPOGRAPHY
  +typography-caps
  white-space: pre
  color: $text-200-color

.widget-reset-button
  display: flex
  justify-content: center
  align-items: center
  height: $button-height
  width:  $button-height

.widget-reset-button-icon
  height: $tiny-icon-height
  width:  $tiny-icon-height
  color:  $text-200-color
  button:hover &
    color: $text-100-color
